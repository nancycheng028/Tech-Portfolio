import assert from "assert";
import { Client } from "../src/client";
import { WebServer } from "../src/StarbServer";
import fs from "fs";
import { parsePuzzle } from "../src/Parser";


describe("parsePuzzle", function () {

    it("should parse puzzle correctly", function () {
        const input = 
    `10x10
    1,2  1,5  | 1,1 1,3 1,4 1,6 1,7 1,8 2,1 2,2 2,3 2,4 2,5 2,6 2,8 3,5
    2,9  4,10 | 1,9 1,10 2,10 3,9 3,10 4,9 5,9 5,10 6,9 6,10 7,10 8,10
    3,2  3,4  | 3,3
    2,7  4,8  | 3,6 3,7 3,8
    6,1  9,1  | 3,1 4,1 4,2 4,3 4,4 5,1 5,2 5,3 6,2 7,1 7,2 8,1 8,2 8,3 8,4 8,5 8,6
    5,4  5,6  | 4,5 5,5 6,4 6,5 6,6
    6,8  8,7  | 4,6 4,7 5,7 5,8 6,7 7,6 7,7 7,8 8,8
    7,3  7,5  | 6,3 7,4
    8,9 10,10 | 7,9 9,9 9,10
    9,3  10,6 | 9,2 9,4 9,5 9,6 9,7 9,8 10,1 10,2 10,3 10,4 10,5 10,7 10,8 10,9
    `;
    
    const puzzle = parsePuzzle(input);
    assert(puzzle.cols===10);
    assert(puzzle.rows===10);
    assert(puzzle.hasStarAt(2,1));
    assert(puzzle.hasStarAt(3,9));
    });
});